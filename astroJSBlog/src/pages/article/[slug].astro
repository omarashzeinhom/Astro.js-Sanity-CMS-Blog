---
import { useSanityClient } from "astro-sanity";
import PortableText from "../../components/PortableText.astro";

export async function getStaticPaths() {
  const articles = await useSanityClient().fetch(`*[_type == "articles"]`);

  return articles.map((article: { articleSlug: { current: any; }; }) => {
    return {
      params: {
        slug: article.articleSlug?.current || "",
      },
      props: { ...article },
    };
  });
}

const { title, articleBody } = Astro.props;
---

<h1>{title}</h1>

<PortableText portableText={articleBody} />
