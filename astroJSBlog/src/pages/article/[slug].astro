---
import { useSanityClient } from "astro-sanity";
import PortableText from "../../components/PortableText.astro";

export async function getStaticPaths() {
  const articles = await useSanityClient().fetch(`*[_type == "articles"]`);

  return articles.map((article) => {
    return {
      params: {
        slug: article.slug?.current || "",
      },
      props: { ...article },
    };
  });
}

const { title, body } = Astro.props;
---

<h1>{title}</h1>

<PortableText portableText={body} />
